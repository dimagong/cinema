{"version":3,"sources":["components/MovieItem.jsx","components/PressButton.jsx","components/MovieTabs.jsx","components/App.js","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","appendMovieToWillWatch","removeMoviefromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","classNames","require","PressButton","name","previousString","nextString","changeNumberPage","btnClass","btn","MovieTabs","nextProps","nextState","console","log","sort_by","page","updateSortBy","total_pages","handleClick","value","getClassLink","role","App","getMovies","fetch","then","response","json","data","movies","results","updateMovie","filter","item","id","moviesWillWatch","updateMoviesWillWatch","prevProps","prevState","map","key","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yNAgEeA,E,kDA5DX,aAAc,IAAD,8BACT,gBACKC,MAAQ,CACXC,WAAW,GAHJ,E,qDAaJ,IAAD,SAC2EC,KAAKC,MAA7EC,EADH,EACGA,MAAOC,EADV,EACUA,YAAaC,EADvB,EACuBA,uBAAwBC,EAD/C,EAC+CA,yBACnD,OACI,yBAAKC,UAAU,QACX,yBACIA,UAAU,eACVC,IAAG,yCAAoCL,EAAMM,eAC7CN,EAAMO,aACNC,IAAI,KAER,yBAAKJ,UAAU,aACX,wBAAIA,UAAU,cAAcJ,EAAMS,OAClC,yBAAKL,UAAU,qDACX,uBAAGA,UAAU,QAAb,WAA6BJ,EAAMU,cAE/B,4BACIC,KAAK,SACLP,UAAS,cAASN,KAAKF,MAAMC,UAAY,cAAe,iBACxDe,QACG,WACC,EAAKC,SAAS,CACVhB,WAAY,EAAKD,MAAMC,YAG3B,EAAKD,MAAMC,UAAYM,EAAyBH,GAASE,EAAuBF,KATxF,UAaWF,KAAKF,MAAMC,UAAY,oBAAqB,oBAO/D,4BAAQe,QAAUX,EAAYa,KAAK,KAAMd,IAAzC,sB,GAlDIe,IAAMC,WCC1BC,EAAaC,EAAQ,IAyBVC,E,uKArBF,IAAD,EAEmCrB,KAAKC,MAAzCqB,EAFC,EAEDA,KAAMC,EAFL,EAEKA,eAAgBC,EAFrB,EAEqBA,WAEvBC,EAAoBF,IAAkCC,GAA0B,gBAGlFE,EAAWP,EAAW,CACxBQ,KAAM,EACN,oBAAqBH,EACrB,kBAAmBD,EACnB,uBAAwB,iBAE1B,OAAO,4BAAQT,QAASW,EACRnB,UAAWoB,GAElBJ,O,GAlBaL,IAAMC,WCiIjBU,E,wLA9HeC,EAAWC,GACjCC,QAAQC,IAAI,oBACZD,QAAQC,IAAI,YAAaH,EAAUI,SACnCF,QAAQC,IAAI,YAAahC,KAAKC,MAAMgC,W,4CAGlBJ,EAAWC,GAC7B,OAAGD,EAAUI,UAAYjC,KAAKC,MAAMgC,SAC5BJ,EAAUK,OAASlC,KAAKC,MAAMiC,O,+BAatCH,QAAQC,IAAI,oBAFP,MAI0EhC,KAAKC,MAA7EgC,EAJF,EAIEA,QAASE,EAJX,EAIWA,aAAcD,EAJzB,EAIyBA,KAAME,EAJ/B,EAI+BA,YAAaZ,EAJ5C,EAI4CA,WAAYD,EAJxD,EAIwDA,eAEvDc,EAAc,SAACC,GAAD,OAAW,WAC3BH,EAAaG,KAGfC,EAAe,SAACD,GACnB,MAAM,YAAN,OAAoBL,IAAYK,EAAQ,SAAW,KAEtD,OACI,6BACA,wBAAIhC,UAAU,sBACV,wBAAIA,UAAU,YACV,yBACIQ,QACKuB,EAAY,mBAGjB/B,UAAWiC,EAAa,oBAL5B,oBASJ,wBAAIjC,UAAU,YACV,yBACIQ,QAAUuB,EAAY,gBACtB/B,UAAWiC,EAAa,iBAF5B,iBAMJ,wBAAIjC,UAAU,YACV,yBACIQ,QAASuB,EAAY,qBACrB/B,UAAWiC,EAAa,sBAF5B,uBAQR,yBAAKjC,UAAU,iBACX,yBAAKA,UAAU,uCAAuCkC,KAAK,SAEnD,kBAAC,EAAD,CACIhB,WAAYA,EACXF,KAAK,UAET,kBAAC,EAAD,CACIA,KAAI,eAAUY,KAGlB,kBAAC,EAAD,CACGX,eAAgBA,EAChBD,KAAK,YAER,kBAAC,EAAD,CACGA,KAAI,oBAAec,Y,GAjFnBnB,IAAMC,WCkKfuB,E,kDA1Jb,aAAc,IAAD,8BACX,gBAmCFC,UAAY,WACVC,MAAM,GAAD,OCjDc,+BDiDd,mCC/CgB,mCD+ChB,oBAA2D,EAAK7C,MAAMmC,QAAtE,iBAAsF,EAAKnC,MAAMoC,OAAQU,MAC5G,SAAAC,GACA,OAAQA,EAASC,UACfF,MAAM,SAACG,GAGL,EAAKhC,SAAS,CACZiC,OAAQD,EAAKE,QACbf,KAAMa,EAAKb,KACXE,YAAaW,EAAKX,kBA9Cf,EAoDbZ,WAAa,WACX,EAAKT,SAAS,CACZmB,KAAM,EAAKpC,MAAMoC,KAAO,KAtDf,EA0DbX,eAAiB,WACZ,EAAKzB,MAAMoC,KAAO,GACnB,EAAKnB,SAAS,CACZmB,KAAM,EAAKpC,MAAMoC,KAAO,KA7DjB,EAkEb/B,YAAc,SAACD,GACb,IAAMgD,EAAc,EAAKpD,MAAMkD,OAAOG,QAAQ,SAACC,GAC7C,OAAQA,EAAKC,KAAOnD,EAAMmD,MAG5B,EAAKtC,SAAS,CACZiC,OAAQE,KAxEC,EA4Eb9C,uBAAyB,SAACF,GAIxB,EAAKa,SAAS,CACduC,gBAAgB,GAAD,mBAAM,EAAKxD,MAAMwD,iBAAjB,gBAAsCpD,QAjF1C,EAsFbG,yBAA2B,SAACH,GAC1B,IAAMqD,EAAwB,EAAKzD,MAAMwD,gBAAgBH,QAAQ,SAACC,GAChE,OAAQA,EAAKC,KAAOnD,EAAMmD,MAG5B,EAAKtC,SAAS,CACZuC,gBAAiBC,KA5FR,EAgGbpB,aAAe,SAACG,GACd,EAAKvB,SAAS,CACZkB,QAASK,KA/FX,EAAKxC,MAAQ,CAEXkD,OAAQ,GACRM,gBAAiB,GACjBrB,QAAS,kBACTC,KAAM,GACNE,YAAa,IATJ,E,gEAiBXpC,KAAK0C,c,yCAIYc,EAAWC,GAKxBA,EAAUxB,UAAYjC,KAAKF,MAAMmC,SAC/BwB,EAAUvB,OAASlC,KAAKF,MAAMoC,MAElClC,KAAK0C,c,+BAyEC,IAAD,OAGH,OADFX,QAAQC,IAAI,cAER,yBAAK1B,UAAU,aACb,yBAAKA,UAAU,YACX,yBAAKA,UAAU,SACX,yBAAKA,UAAU,YACb,yBAAKA,UAAU,UACX,kBAAC,EAAD,CACE2B,QAASjC,KAAKF,MAAMmC,QACpBE,aAAcnC,KAAKmC,aACnBD,KAAMlC,KAAKF,MAAMoC,KACjBE,YAAapC,KAAKF,MAAMsC,YACxBZ,WAAYxB,KAAKwB,WACjBD,eAAgBvB,KAAKuB,mBAI7B,yBAAKjB,UAAU,OAIPN,KAAKF,MAAMkD,OAAOU,KAAK,SAACxD,GACtB,OACU,yBAAKI,UAAU,aAAaqD,IAAKzD,EAAMmD,IACnC,kBAAC,EAAD,CAEAnD,MAAOA,EACPC,YAAa,EAAKA,YAClBC,uBAAwB,EAAKA,uBAC7BC,yBAA0B,EAAKA,iCAU3D,yBAAKC,UAAU,SACT,yCAAeN,KAAKF,MAAMwD,gBAAgBM,e,GAjJ9C3C,IAAMC,WEFxB2C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.45f13154.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass MovieItem extends React.Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n          willWatch: false\r\n        }\r\n    } \r\n    \r\n    // componentWillUnmount(){\r\n    //     console.log('Unmount', this.props.movie.title);\r\n    // }\r\n\r\n\r\n\r\n    render(){\r\n        const {movie, removeMovie, appendMovieToWillWatch, removeMoviefromWillWatch} = this.props;\r\n        return(\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n                    movie.poster_path}`}\r\n                    alt=\"\"\r\n                />    \r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{movie.title}</h6>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n                        \r\n                            <button \r\n                                type=\"button\" \r\n                                className={`btn ${this.state.willWatch ? \"btn-sucsses\": \"btn-secondary\"}`}\r\n                                onClick={ \r\n                                   () => {\r\n                                    this.setState({\r\n                                        willWatch: !this.state.willWatch\r\n                                    });\r\n                                    //removeMoviefromWillWatch.bind(null, movie);\r\n                                    this.state.willWatch ? removeMoviefromWillWatch(movie) : appendMovieToWillWatch(movie)\r\n                                   }     \r\n                                }\r\n                            >\r\n                                   {`${this.state.willWatch ? 'Remove Will Watch': 'Add Will Watch'}`}\r\n                            </button> \r\n                            \r\n                    \r\n                        \r\n                        \r\n                    </div>\r\n                    <button onClick={ removeMovie.bind(null, movie) }>\r\n                          \r\n                                DELITE MOVIE\r\n                    </button>\r\n            \r\n                </div>\r\n            </div>   \r\n    );\r\n    }\r\n}\r\n\r\n\r\nexport default MovieItem;\r\n\r\n\r\n\r\n// { this.state.willWatch ?\r\n//     <button \r\n//         type=\"button\" \r\n//         className=\"btn btn-sucsses\"\r\n//         onClick={ \r\n//            () => {\r\n//             this.setState({\r\n//                 willWatch: false\r\n//             });\r\n//             //removeMoviefromWillWatch.bind(null, movie);\r\n//             removeMoviefromWillWatch(movie);\r\n//            }     \r\n//         }\r\n//     >\r\n//            Remove Will Watch\r\n//     </button> : <button \r\n//         type=\"button\" \r\n//         className=\"btn btn-secondary\"\r\n//         onClick={ \r\n//             () => {\r\n            \r\n//             this.setState({\r\n//                 willWatch: true\r\n//             });\r\n//             //appendMovieToWillWatch.bind(null, movie)\r\n//             appendMovieToWillWatch(movie)\r\n//            }  \r\n//         }\r\n//     >\r\n//             Add Will Watch\r\n//     </button>\r\n\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// MovieItem\r\n// <div className=\"card\">\r\n//   <img\r\n//     className=\"card-img-top\"\r\n//     src={`https://image.tmdb.org/t/p/w500${item.backdrop_path ||\r\n//       data.poster_path}`}\r\n//     alt=\"\"\r\n//   />\r\n//   <div className=\"card-body\">\r\n//     <h6 className=\"card-title\">{data.title}</h6>\r\n//     <div className=\"d-flex justify-content-between align-items-center\">\r\n//       <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n//       <button type=\"button\" className=\"btn btn-secondary\">\r\n//         Will Watch\r\n//       </button>\r\n//     </div>\r\n//   </div>\r\n// </div>;\r\n// MovieListWillWatch\r\n// <h4>Will Watch: movies</h4>\r\n// <ul className=\"list-group\">\r\n//     <li className=\"list-group-item\">\r\n//       <div className=\"d-flex justify-content-between\">\r\n//       </div>\r\n//     </li>\r\n//   ))}\r\n// </ul>","import React from 'react';\r\n\r\n\r\nvar classNames = require('classnames');\r\n\r\nclass PressButton extends React.Component {\r\n  // ...\r\n  render () {\r\n    \r\n    const {name, previousString, nextString} = this.props;\r\n\r\n    const changeNumberPage =  previousString ? previousString : nextString ? nextString : 'counter_page';\r\n    \r\n    \r\n    var btnClass = classNames({\r\n      btn : true,\r\n      'btn-danger btn-sm': nextString,\r\n      'btn-dark btn-sm': previousString,\r\n      'btn-secondary btn-sm': \"counter_page\"\r\n    });\r\n    return <button onClick={changeNumberPage} \r\n                    className={btnClass}\r\n            >\r\n            {name}\r\n            </button>;\r\n  }  \r\n}\r\n\r\nexport default PressButton;","import React from 'react';\r\nimport PressButton from './PressButton'\r\n\r\n\r\nclass MovieTabs extends React.Component{\r\n    \r\n    \r\n\r\n    componentWillReceiveProps(nextProps, nextState){\r\n        console.log('WillReceiveProps');\r\n        console.log('nextProps', nextProps.sort_by);\r\n        console.log('nextState', this.props.sort_by);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState){\r\n        if(nextProps.sort_by !== this.props.sort_by\r\n             || nextProps.page !== this.props.page\r\n            //  || nextState.isPressed !== this.state.isPressed\r\n             ){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }   \r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n\r\n        console.log('MovieTabs render');\r\n\r\n        const {sort_by, updateSortBy, page, total_pages, nextString, previousString} = this.props;\r\n\r\n        const handleClick = (value) => () => {\r\n            updateSortBy(value);\r\n        }\r\n        \r\n    const getClassLink = (value) => {\r\n       return  `nav-link ${sort_by === value ? 'active' : ''}`\r\n    }\r\n    return (\r\n        <div>\r\n        <ul className=\"tabs nav nav-pills\">\r\n            <li className=\"nav-item\">\r\n                <div \r\n                    onClick={ \r\n                         handleClick('popularity.desc')\r\n                       //() => {updateSortBy('popularity.desc')};\r\n                    } \r\n                    className={getClassLink('popularity.desc')}>\r\n                    Popularity desc\r\n                </div>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <div \r\n                    onClick={ handleClick('revenue.desc')}\r\n                    className={getClassLink('revenue.desc')}>\r\n                    Revenue desc\r\n                </div>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <div \r\n                    onClick={handleClick('vote_average.desc')}\r\n                    className={getClassLink('vote_average.desc')}>\r\n                    Vote average desc\r\n                </div>\r\n            </li>\r\n            \r\n        </ul>\r\n        <div className=\"row mb-4 mt-4\">\r\n            <div className=\"col-6 d-flex justify-content-between\" role=\"group\">\r\n                \r\n                    <PressButton \r\n                        nextString={nextString}\r\n                         name=\"GO >>\"\r\n                     /> \r\n                     <PressButton \r\n                         name={`PAGE ${page}`}\r\n                     /> \r\n                  \r\n                     <PressButton \r\n                        previousString={previousString} \r\n                        name=\"<< BACK\"\r\n                     />\r\n                     <PressButton \r\n                        name={`ALL PAGES ${total_pages}`}\r\n                    /> \r\n                     \r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\n// const MovieTabs = ({sort_by, updateSortBy}) => {\r\n\r\n//     const handleClick = (value) => () => {\r\n//             updateSortBy(value);\r\n//         }\r\n        \r\n//     const getClassLink = (value) => {\r\n//        return  `nav-link ${sort_by === value ? 'active' : ''}`\r\n//     }\r\n//     return (\r\n//         <ul className=\"tabs nav nav-pills\">\r\n//             <li className=\"nav-item\">\r\n//                 <div \r\n//                     onClick={ \r\n//                          handleClick('popularity.desc')\r\n//                        //() => {updateSortBy('popularity.desc')};\r\n//                     } \r\n//                     className={getClassLink('popularity.desc')}>\r\n//                     Popularity desc\r\n//                 </div>\r\n//             </li>\r\n//             <li className=\"nav-item\">\r\n//                 <div \r\n//                     onClick={ handleClick('revenue.desc')}\r\n//                     className={getClassLink('revenue.desc')}>\r\n//                     Revenue desc\r\n//                 </div>\r\n//             </li>\r\n//             <li className=\"nav-item\">\r\n//                 <div \r\n//                     onClick={handleClick('vote_average.desc')}\r\n//                     className={getClassLink('vote_average.desc')}>\r\n//                     Vote average desc\r\n//                 </div>\r\n//             </li>\r\n//         </ul>\r\n//     )\r\n// }\r\n\r\nexport default MovieTabs;\r\n","import React from 'react';\n\n// import './App.css';\n//import {moviesData} from '../MoviesData';\nimport MovieItem from \"./MovieItem\";\nimport {API_URL, API_KEY_3} from '../utils/api';\nimport MovieTabs from './MovieTabs';\n\n\n//console.log({moviesData});\n\nclass App extends React.Component {\n  constructor(){\n    super();\n\n    this.state = {\n      //movies: moviesData,\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: 'popularity.desc',\n      page: '',\n      total_pages: ''\n    }\n\n    //console.log(\"constructor\");\n  }\n\n  componentDidMount(){\n    //console.log(\"didmount\");\n    this.getMovies();\n    //console.log(\"after fetch\");\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    // console.log('DidUpdate');\n    // console.log('presprops, prevState ', prevProps, prevState);\n    //console.log('this', this.props, this.state);\n\n    if( prevState.sort_by !== this.state.sort_by \n       || prevState.page !== this.state.page){\n      //console.log('call api');\n      this.getMovies();\n    } \n    // if(prevState.page !== this.state.page){\n    //   this.getMovies();\n    // }\n  }\n\n  getMovies = () => {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`).then( \n      response => {//console.log(\"then\");\n      return  response.json()}\n      ).then( (data) => {\n          // console.log(\"data\", data);\n          // console.log(\"data\", data.page);\n          this.setState({\n            movies: data.results,\n            page: data.page,\n            total_pages: data.total_pages\n          })\n        }\n       );\n  }\n\n  nextString = () => {\n    this.setState({\n      page: this.state.page + 1\n    })\n  }\n\n  previousString = () => {\n    if(this.state.page > 1){\n      this.setState({\n        page: this.state.page - 1\n      })\n    } \n  }\n  \n  removeMovie = (movie) => {\n    const updateMovie = this.state.movies.filter( (item) => { \n      return (item.id !== movie.id); \n    } )\n    //console.log('updateMovie', updateMovie);\n    this.setState({\n      movies: updateMovie\n    })\n  } \n\n  appendMovieToWillWatch = (movie) => {\n\n    //const term = [...this.state.moviesWillWatch, movie]\n\n    this.setState({\n    moviesWillWatch: [...this.state.moviesWillWatch, {...movie}]\n    })\n  }\n  //[...this.state.moviesWillWatch, {...movie}]\n\n  removeMoviefromWillWatch = (movie) => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter( (item) => { \n      return (item.id !== movie.id); \n    } )\n    // console.log('updateMoviesWillWatch', updateMoviesWillWatch);\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    })\n  } \n\n  updateSortBy = (value) => {\n    this.setState({\n      sort_by: value\n    })\n  }\n\n  render() {\n      //console.log(\"render\", this.state);\n      console.log(\"render App\");\n        return (\n          <div className=\"container\">\n            <div className=\"row mt-4\">\n                <div className=\"col-9\">\n                    <div className=\"row mb-4\">\n                      <div className=\"col-12\">\n                          <MovieTabs \n                            sort_by={this.state.sort_by} \n                            updateSortBy={this.updateSortBy}\n                            page={this.state.page} \n                            total_pages={this.state.total_pages}\n                            nextString={this.nextString}\n                            previousString={this.previousString}\n                          />\n                      </div> \n                    </div>\n                    <div className=\"row\">\n                      \n                        {\n               \n                            this.state.movies.map( (movie) => {\n                              return (\n                                        <div className=\"col-6 mb-4\" key={movie.id} >\n                                            <MovieItem  \n                                            //key={movie.id}  \n                                            movie={movie}  \n                                            removeMovie={this.removeMovie} \n                                            appendMovieToWillWatch={this.appendMovieToWillWatch}\n                                            removeMoviefromWillWatch={this.removeMoviefromWillWatch}\n\n                                            />\n                                        </div>\n                                    );\n                              })\n                     \n                        }\n              </div>\n            </div>\n                <div className=\"col-3\">\n                      <p>WILL WATCH {this.state.moviesWillWatch.length}</p>\n                </div>\n          </div>\n \n         </div>\n      );\n  }\n  \n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './stylesheets/index.scss';\nimport App from './components/App';\n// import * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}